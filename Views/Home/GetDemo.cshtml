
@{
    ViewData["Title"] = "GetDemo";
}

<h1>AJAX 練習二</h1>
<div id="div1" class="alert alert-info"></div>

@section Styles {

}

@section Scripts {
    <script>
        //步驟一：建立ajax物件：XMLHttpRequest、fetch()、jQuery、axios.....
        const xhr = new XMLHttpRequest();

        //步驟二：對伺服器發出要求(Request)
            xhr.open('GET', '/api/GetDemo?name=Mandy&age=25');            //跟api/index要資料
        xhr.send();

        //步驟三：接收伺服器回傳的結果
            xhr.addEventListener('load', () => {
                const data = xhr.responseText;
                //console.log("data",data);
                //步驟四：讀出資料
                //步驟五：顯示資料在網頁上（要找到想要控制的標籤）
                document.querySelector('#div1').innerHTML = `<h3>${data}</h3>`;
            })
    </script>
}

